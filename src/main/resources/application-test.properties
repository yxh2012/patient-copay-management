# ===============================================
# H2 In-Memory Database Configuration for Testing
# ===============================================

# JDBC URL for H2 in-memory database
# - 'mem:testdb': the database lives only in memory and is named 'testdb'
# - 'DB_CLOSE_DELAY=-1': keeps DB open until JVM shuts down (avoids losing data between connections)
# - 'DB_CLOSE_ON_EXIT=FALSE': prevents DB from closing when the VM exits unexpectedly
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE

# Fully qualified driver class for H2
spring.datasource.driverClassName=org.h2.Driver

# Username and password for H2 database connection
spring.datasource.username=sa
spring.datasource.password=password

# Set Hibernate to use H2-specific SQL dialect
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Enable the H2 database web console for easy interactive queries during tests/dev
# Access via http://localhost:8080/h2-console (when app is running)
spring.h2.console.enabled=true

# Explicitly enable Flyway migrations for tests
spring.flyway.enabled=true
